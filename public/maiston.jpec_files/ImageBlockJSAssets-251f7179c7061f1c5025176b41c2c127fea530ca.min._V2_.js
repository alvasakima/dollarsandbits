(function(x){x.execute(function(){x.when("A","jQuery").register("imageBlockLogger",function(i,a){window.ImageBlockclientLogger=function(i,g){var b=this,c={},e={"www.amazon.com":"fls-na",devo:"fls-devo.vipinteg"};b.logSingleton=function(a){c[a]=1};b.logHit=function(a){c[a]?c[a]++:c[a]=1};b.logKeyValuePair=function(a,b){c[a]=b};b.deleteKey=function(a){c[a]&&delete c[a]};b.startTimer=function(a){c[a]=+new Date};b.endTimer=function(a){c[a]&&(c[a]=+new Date-c[a])};b.upload=function(){var b=(location.protocol==
"https:"?"https://":"http://")+(e[location.host]||e.devo)+".amazon.com/1/softlines/1/OP/"+i+"?"+a.param(c)+"&_="+ +new Date;(new Image).src=b};g&&a(window).unload(function(){b.upload()})}});x.when("A","jQuery").register("imageBlockUtils",function(i,a){function x(a,b){if(a&&b.volume!=null)a.setVolume(b.volume),b.volume=null}function g(d){var b=c.colorToAsin[d];b&&b.asin&&a.ajax({url:"/gp/product/features/apparel-main-image/videos.html",data:{asin:b.asin,productGroupID:c.productGroupID,useAiryVideoPlayer:!0,
useChromelessVideoPlayer:c.useChromelessVideoPlayer,isUDP:c.isUDP},dataType:"json",timeout:4E3,success:function(a){a&&(e[d]=a,i.trigger("image-block-video-fetch-completed",d))}})}var b={},c,e,ea,l,I,M=!1,K=a("#main-image-container");b.VIDEO_UNSUPPORTED_CLASS_NAME="noflash";b.flashNotInstalled=!1;b.embedAiryForChromelessPlayback=function(d,A,f,e,c,j){function q(){i.trigger("image-block-select-thumbnail",e.find("img:first"));i.trigger("image-block-first-thumbnail-selected")}return airyInstance=Airy.embed({isShowFirstFrameWhenReadyEnabled:!0,
parentElement:d[0],streamingUrls:A.url,swfUrl:f.swfUrl,foresterMetadataParams:f.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=d.find("video").length>0?"HTML5":"FLASH";c.logKeyValuePair("ChromelessVideo",a)},playing:function(){d.parent().css("z-index",8)},videounsupported:function(){b.flashNotInstalled=!0;q();c.logKeyValuePair("ChromelessVideo","NO_FLASH_ERROR");j.addClass(b.VIDEO_UNSUPPORTED_CLASS_NAME)},
error:function(){q();c.logKeyValuePair("ChromelessVideo","ERROR")},ended:function(){airyInstance.seek(0)}},cuePoints:[{values:A.durationSeconds-1,type:"position",callback:function(b,f,A){b=A.durationSeconds-A.playheadTimeSeconds;d.css("background-color","white").find(".airy-renderer-container").fadeTo(b*1E3,0.1,function(){d.parent().css({"background-color":"transparent","z-index":-1});q();a(this).show().css("opacity",1)})}}]})};b.embedAiryForChromefulPlayback=function(d,b,f,e){var c=a.extend({},f.foresterMetadataParams);
e!=null&&(c.method+="."+e);d=Airy.embed({parentElement:d[0],streamingUrls:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,swfUrl:f.swfUrl,foresterMetadataParams:c,backgroundColor:"transparent",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl},videoAds:f.videoAds});x(d,f);return d};b.loadMediaIntoAiryAndSetVolume=function(a,b,f){a&&a.getMediaSourceInfo()!==b.url&&(a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,
contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}),x(a,f))};b.setLandingColor=function(a){l=a};b.resizeHappened=function(){M=!0};b.getMainBlockHeight=function(){var a=K.get(0),b=0;if(typeof a!=="undefined")M?(b=a.offsetWidth/c.holderRatio,b=b>c.holderMaxHeight?c.holderMaxHeight:b):b=a.style.height;return b};b.loadImageManually=function(d,e){a(d,e).each(function(){var d=a(this);if(!d.attr("data-a-image-already-loaded")){d.attr("data-a-image-already-loaded",
!0);var e=b.loadDynamicImage(d),e=a("<img>").attr("src",e||d.data("a-image-source"));e.attr("data-a-hires",d.data("a-hires"));e.attr("data-old-hires",d.data("old-hires"));e.attr("data-a-manual-replacement",d.data("a-manual-replacement"));e.attr("data-a-dynamic-image",JSON.stringify(d.data("a-dynamic-image")));var c="";c+=d.attr("class");var A=d.data("a-extra-classes");A&&(c+=" "+A);e.attr("class",c);e.attr("id",d.attr("id"));e.attr("style",d.attr("style"));d.replaceWith(e)}})};b.loadImageAsynchronously=
function(a,b){if(!(a===null||a===void 0||typeof a!=="string")){var e=new Image;if(b!==null&&b!==void 0&&typeof b==="function")e.onload=b;e.src=a}};b.loadDynamicImage=function(b){var b=a(b),e=b.data("a-dynamic-image");if(e&&typeof e==="object"){var f=b.data("a-dynamic-image-container");typeof f==="undefined"&&(f=b.parents(".a-dynamic-image-container"),f.length===0&&(f=b.parent()),b.data("a-dynamic-image-container",f));var c=window.devicePixelRatio?window.devicePixelRatio:1,o=f.width()*c,j=f.height()*
c,q=Number.MAX_VALUE,i=Number.MAX_VALUE,g=b.attr("src")||"",N,S=o/j;a.each(e,function(a,b){var d=parseInt(b[0],10),e=parseInt(b[1],10);d-=j;e-=o;e=S>=1?e:d;Math.abs(e)<i&&e>=0&&(i=Math.abs(e),N=a);Math.abs(e)<q&&(q=Math.abs(e),g=a)});N&&(g=N);return g}};b.getVideos=function(a){if(c.useChildVideos){if(a==l)a=c.defaultColor;e[a]||(e[a]=[],g(a));return e[a]}return c.videos};b.getBestUrlForAvailableWidth=function(b){var e=0,c;a.each(b,function(a,b){b[0]>e&&(c=a,e=b[0])});return c};b.getMaxWidthOfSlateImages=
function(b){var e=0;a.each(b,function(a,b){var d=parseInt(b[0],10);d>e&&(e=d)});return e};b.getMaxHeightOfSlateImages=function(b){var e=0;a.each(b,function(a,b){var d=parseInt(b[1],10);d>e&&(e=d)});return e};b.getMaxWidthOfMainImage=function(a){var e=K.width(),a=b.getMaxWidthOfSlateImages(a);a>0&&(e=Math.min(e,a));return e};b.getMaxHeightOfMainImage=function(a){var e=K.height(),a=b.getMaxHeightOfSlateImages(a);a>0&&(e=Math.min(e,a));return e};b.getMaxDimensionsOfMainImage=function(){var a,b=c.mainImageHeightPartitions,
e=c.mainImageMaxSizes;if(b&&typeof b!==void 0&&e&&typeof e!==void 0){for(var i=0,g=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,j=0;j<b.length;j++)g>b[j]&&(i=j+1);e.length>=i&&(a=e[i])}return a};b.getColorFromState=function(b){if(b){var e="",f=DetailPage.StateController.getState().variation_display_labels;a.each(c.visualDimensions,function(a,i){var j=c.gIsNewTwister==1?i:f[i];b[j]&&(e+=" "+b[j])});return e&&e.substring(1)}};b.isBuyableVariation=function(a){if(!a.current_hovered_asin){var b=
a.num_variation_dimensions;return a.num_dimensions_selected!=b&&a.num_dimensions_hovered!=b}return!0};b.showUnavailableExp=function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())};b.hideUnavailableExp=function(){a("#imageBlock .unavailableExp").hide()};b.setImageCaption=function(e,i,f,g,o,j){ea&&clearTimeout(ea);ea=null;o&&(ea=setTimeout(function(){b.setImageCaption(e,i,g)},o));o=a("#image-canvas-caption #canvasCaption");if(i!=="image")o.html("");
else{var q=c.staticStrings,l="";j&&c.useIV?l=q.clickToExpand:I[e]&&I[e][f].hiRes&&c.useHoverZoom?l=c.hoverZoomIndicator&&c.useHoverZoomIpad?"<img src='"+c.staticImages.hoverZoomIcon+"'/>&nbsp;"+q.touchToZoom:c.useHoverZoomIpad?q.touchToZoom:c.hoverZoomIndicator?"<img src='"+c.staticImages.hoverZoomIcon+"'/>&nbsp;"+q.rollOverToZoom:c.useClickZoom?q.clickToZoom:q.rollOverToZoom:c.useIV&&(l=q.clickToExpand);o.html(l)}};b.getSlateImage=function(a){return c.useChildVideos&&c.colorToAsin[a].slate[0]};b.init=
function(a){b.options=c=a;I=c.colorImages;l=c.landingColor||c.defaultColor;e={};e[c.defaultColor]=c.videos;return b};typeof JSON!=="object"&&(JSON={});(function(){function a(b){return b<10?"0"+b:b}function b(a){i.lastIndex=0;return i.test(a)?'"'+a.replace(i,function(a){var b=l[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function e(a,d){var c,i,l,o,s=j,m,k=d[a];k&&typeof k==="object"&&typeof k.toJSON==="function"&&(k=k.toJSON(a));typeof y===
"function"&&(k=y.call(d,a,k));switch(typeof k){case "string":return b(k);case "number":return isFinite(k)?String(k):"null";case "boolean":case "null":return String(k);case "object":if(!k)return"null";j+=g;m=[];if(Object.prototype.toString.apply(k)==="[object Array]"){o=k.length;for(c=0;c<o;c+=1)m[c]=e(c,k)||"null";l=m.length===0?"[]":j?"[\n"+j+m.join(",\n"+j)+"\n"+s+"]":"["+m.join(",")+"]";j=s;return l}if(y&&typeof y==="object"){o=y.length;for(c=0;c<o;c+=1)typeof y[c]==="string"&&(i=y[c],(l=e(i,k))&&
m.push(b(i)+(j?": ":":")+l))}else for(i in k)Object.prototype.hasOwnProperty.call(k,i)&&(l=e(i,k))&&m.push(b(i)+(j?": ":":")+l);l=m.length===0?"{}":j?"{\n"+j+m.join(",\n"+j)+"\n"+s+"}":"{"+m.join(",")+"}";j=s;return l}}if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=
Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,g,l={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},y;if(typeof JSON.stringify!=="function")JSON.stringify=function(a,b,d){var c;g=j="";if(typeof d===
"number")for(c=0;c<d;c+=1)g+=" ";else typeof d==="string"&&(g=d);if((y=b)&&typeof b!=="function"&&(typeof b!=="object"||typeof b.length!=="number"))throw Error("JSON.stringify");return e("",{"":a})};if(typeof JSON.parse!=="function")JSON.parse=function(a,b){function e(a,d){var c,i,f=a[d];if(f&&typeof f==="object")for(c in f)Object.prototype.hasOwnProperty.call(f,c)&&(i=e(f,c),i!==void 0?f[c]=i:delete f[c]);return b.call(a,d,f)}var d,a=String(a);c.lastIndex=0;c.test(a)&&(a=a.replace(c,function(a){return"\\u"+
("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),typeof b==="function"?e({"":d},""):d;throw new SyntaxError("JSON.parse");}})();return b});x.when("A","jQuery").register("imageMagnifier",function(i,a){function x(a){var c=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i),a={};if(c)for(var c=
c[1].split("_"),e=0;e<c.length;e++){var i=c[e].match(/^([A-Z]+)(\d+(\.\d+)?)$/);i&&(a[i[1]]=Number(i[2]))}return a}var g=window.ue;a.fn.amazonMagnifier=function(b){function c(){var a;b.useClickZoom?(a=b.offsetInClickZoom,a=[Math.min(1,Math.max(0,o[0]-(q[0]+a))/(q[2]-2*a)),Math.min(1,Math.max(0,o[1]-(q[1]+a))/(q[3]-2*a))]):a=E&&E.updatePosition();if(a&&f.detailSize){var e=[f.detailSize[0]-f.rect.width,f.detailSize[1]-f.rect.height];f.detailImage.get(0).style.left=-(a[0]*e[0])+"px";f.detailImage.get(0).style.top=
-(a[1]*e[1])+"px"}}function e(a){var b=T?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";o=T?[b.pageX,b.pageY]:[a.pageX,a.pageY]}function i(a){T&&a.preventDefault();e(a);b.useClickZoom?a=[q[0],q[1],q[0]+q[2],q[1]+q[3]]:(a=E?E.offset:d.offsetParent().offset(),a=[j[0]+a.left,j[1]+a.top,j[0]+j[2]+a.left,j[1]+j[3]+a.top]);o[0]<a[0]||o[1]<a[1]||o[0]>=a[2]||o[1]>=a[3]?b.burjImageBlock?O||(O=!0,X=setTimeout(function(){I(!0)},500)):b.useClickZoom||I():(b.burjImageBlock&&O&&(O=!1,clearTimeout(X)),
c())}function l(){var e=a(b.locationElement).find("select:visible");ia?aa=e.hide():a("select").each(function(){a(this).blur()})}function I(b){b&&d.suppressMagnifier(!0);if(y&&(a.browser.msie&&a("#main-image-widget .holder.video").show(),aa&&aa.show(),f&&f.hide(),E&&(E.destroy(),E=null),y=!1,T?(d.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),K(),b))d.one("click.magnifier touchstart.magnifier",
function(a){M(a,!0)})}function M(m,o){o&&d.suppressMagnifier(!1);if(!y&&!N){document.body&&a(document.body).trigger("click");b.logMetrics&&(Z==0&&(a.imageBlock.logger.logKeyValuePair("hoverTime",new Date-window.ue.t0),Z=1),s[S]||(a.imageBlock.logger.logHit("hoverMain"),s[S]=1));j=[d.position().left,d.position().top,d.width(),d.height()];a.browser.msie&&a("#main-image-widget .holder.video").hide();if(S){if(a.browser.msie&&!a.isReady){a("#main-image-widget .holder.video").show();return}l();e(m);f?f.refit().show():
f=new B;b.useClickZoom||(E=E||new k);q=f.getWindowSize();c()}y=!0;T?(d.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",i).bind("touchend.magnifier",I),a(document).trigger("engaged.magnifier")):(d.unbind("mousemove.magnifier"),a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",i));if(o){var U=a("#zoomWindow");if(U.length>0)U.one("click.magnifier touchend.magnifier",function(){I(!0)})}U=g.count("softlinesHoverZoomOverlay:TotalCount")||0;g.count("softlinesHoverZoomOverlay:TotalCount",
U+1)}}function K(){b.useHoverZoom&&(T?d.bind("touchstart.magnifier touchmove.magnifier",M):d.bind("mousemove.magnifier",M))}var d=this,A={detailImageUrl:d.attr("data-old-hires"),location:"over",locationElement:d,prelaod:"ready",zIndex:50,offsetInClickZoom:50},b=a.extend(A,b);b.adjustment=[10,0,-10,0];var f=null,E=null,o=null,j=null,q=null,W={"null":1,"":1,undefined:1},y=!1,N=!1,S=b.detailImageUrl,ia=a.browser.msie&&parseInt(a.browser.version)<=6,aa,T=b.useHoverZoomIpad||0,Z=0,s={},m=navigator.userAgent.match(/msie|trident/i),
k=function(){function e(a){var b=Math.round(Math.min(d.width(),f.rect.width/a)),a=Math.round(Math.min(d.height(),f.rect.height/a));l.css({width:b,height:a});i=[b,a]}var c=this,i=[0,0],k=(f.detailSize&&f.detailSize[0]||5E8)/j[2],g=(f.detailSize&&f.detailSize[1]||5E8)/j[3];g>k&&(k=g);a("#magnifierLens").remove();var l=a("<div id='magnifierLens' />").css({backgroundImage:"url("+b.generalImageUrls.zoomLensBackground+")",position:"absolute",cursor:"pointer"});c.updatePosition=function(){var a=[j[2]-i[0],
j[3]-i[1]],b=a[0]<=0?0.5:Math.max(0,Math.min(1,(o[0]-i[0]/2-j[0]-c.offset.left)/a[0])),e=a[1]<=0?0.5:Math.max(0,Math.min(1,(o[1]-i[1]/2-j[1]-c.offset.top)/a[1])),d=j[0]+Math.round(b*a[0]),a=j[1]+Math.round(e*a[1]);l.get(0).style.left=d+"px";l.get(0).style.top=a+"px";return[b,e]};c.destroy=function(){l.remove()};c.offset=d.offsetParent().offset();e(k);c.updatePosition();l.appendTo(d.parent());f.detailImage[0].complete||f.detailImage.load(function(){var a=f.detailImage.width()/j[2];e(a);c.updatePosition()})};
k.preload=function(){d.preload(b.generalImageUrls.lensBackgroundUrl)};var B=function(){function e(){var c={};if(b.location=="over")if(b.isUDP){var c=b.useClickZoom,i=b.burjImageBlock,g={left:Infinity,top:Infinity,right:-Infinity,bottom:-Infinity},j=a("#leftCol"),m=a("#centerCol"),o=a("#hover-zoom-end");i?(g.top=j.offset().top,g.bottom=j.outerHeight()+g.top,g.right=j.outerWidth()+j.offset().left):(g.top=m.offset().top,g.bottom=m.outerHeight()+g.top,g.right=a("#rightCol").offset().left);g.left=c?0:
j.offset().left+j.outerWidth();if(o&&o.offset().top>g.bottom)g.bottom=o.offset().top;c=g}else a(".productImageGrid").length>0?c=hoverZoomBound():(c.left=0,c.right=0);else b.location=="right"&&(c=d.offset(),c={left:c.left+d.outerWidth(),top:c.top,right:c.left+d.outerWidth()+400,bottom:c.top+400});if(b.minHeightElement)c.bottom=Math.max(c.bottom,c.top+a(b.minHeightElement).outerHeight());c.bottom=Math.min(c.bottom,a(window).scrollTop()+a(window).height());c.left+=k[0];c.top+=k[1];c.right+=k[2];c.bottom+=
k[3];c.width=c.right-c.left;c.height=c.bottom-c.top;l.css({left:c.left,top:c.top,width:c.width,height:c.height});f.rect=c;return f}function i(a){var e=new Image;e.src=a.attr("src");if(e.width>0&&e.height>0)f.detailSize=[e.width,e.height];else if(b.detailImageSize)f.detailSize=b.detailImageSize;else{var a=x(e.src),d=j[2]/j[3];a.SS||a.AA?(a=a.SS||a.AA,f.detailSize=[a,a]):a.SX?f.detailSize=[a.SX,Math.round(a.SX/d)]:a.SY?f.detailSize=[Math.round(a.SY*d),a.SY]:a.SL?f.detailSize=d>=1?[a.SL,Math.round(a.SL/
d)]:[Math.round(a.SL*d),a.SL]:(f.detailSize=[0,0],e.onload=function(){f.detailSize=[e.width,e.height];c()})}}var f=this,k=b.adjustment;a("#zoomWindow").remove();var g={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:b.zIndex};if(b.isHoverZoomShawdowEnabled)g.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",g.border="1px solid #949494",g.borderColor="rgb(148,148,148)";var l=a("<div id='zoomWindow' />").css(g);b.burjImageBlock&&l.fadeIn(200);b.useClickZoom&&(m?l.css("cursor",'url("'+b.zoomOutIcon+
'"), auto'):(l.css("cursor","-webkit-zoom-out"),l.css("cursor","-moz-zoom-out"),l.css("cursor","zoom-out")));f.updateImage=function(b){b=a("<img id='detailImg' src='"+b+"'/>").css("position","absolute");f.detailImage&&f.detailImage.remove();l.append(b);a(document).trigger("updated.magnifier");f.detailImage=b;i(f.detailImage)};f.refit=function(){e();i(f.detailImage);return f};b.burjImageBlock?(f.show=function(){l.fadeIn(200);return f},f.hide=function(){l.fadeOut(200);return f}):(f.show=function(){l.show();
return f},f.hide=function(){l.hide();return f});f.destroy=function(){l.remove();return f};f.getWindowSize=function(){return[f.rect.left,f.rect.top,f.rect.width,f.rect.height]};f.updateImage(S);e();l.appendTo(document.body)},O=!1,X;d.preload=function(b){for(var b=a.makeArray(b),e=b.length,c=0;c<e;c++)if(b[c]instanceof Array)d.preload(b[c]);else if(typeof b[c]=="string"&&b[c]&&!W[b[c]])W[b[c]]=new Image,W[b[c]].src=b[c]};d.changeImage=function(e,c){y&&I();S=c;d.attr("src",e);if(a.browser.msie)d.get(0).className=
d.get(0).className;d.preload(e);j=[d.position().left,d.position().top,d.width(),d.height()];c&&(b.preload=="immediately"?d.preload(c,!0):a(window).ready(function(){d.preload(c)}),f?f.updateImage(c):d.attr("data-old-hires",c))};d.destroy=function(){d.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");E&&E.destroy();E=null;f&&f.destroy();f=null};d.detailImage=function(){return f.detailImage};d.suppressMagnifier=function(a){N=a};
d.isEngaged=function(){return y};d.engageMagnifier=M;d.disengageMagnifier=I;d[0].complete?K():d.one("load",K);d.preload(this.attr("src"));if(b.preload){var w=b.detailImageUrl,A=function(){d.preload(w,!0);b.useClickZoom||k.preload()},F=b.preload;F.constructor!=Array&&(F=[F]);for(var G=0;G<F.length;G++)if(F[G]=="immediately")A();else if(a(window)[F[G]])a(window)[F[G]](A);else a(window).bind(F[G],A)}return d}});x.when("A","jQuery","ImageBlockBTF").register("immersiveView",function(i,a,x){var g,b;function c(){var p=
L?10:15;v=a('<div id="iv-first-column" style="float: '+(L?"right":"left")+"; width:"+(a(window).width()-ba-330)+'px;height:100%; margin-right: 15px;"/>');p=a('<div width="100%" id="iv-large-image" style="overflow: hidden; width: 100%; height: '+(a(window).height()-fa-p)+'px;align:center; position:relative; top:0px; left:0px;"/>');n=a("<div></div>").attr("id","iv-large-video").css({overflow:"hidden",width:"100%",height:"100%",align:"center"});X!=="image"&&p.css("display","none");v.append(p);v.append(n);
w.append(v)}function e(){a("<img>").attr("src",""+G.arrow+"");a("<img>").attr("src",""+G.zoomIn+"");a("<img>").attr("src",""+G.zoomOut+"")}function ea(){var p=a('<div style="float: left; padding-left:30px;" id="iv-sec-column"></div>');if(!L){var b=p=a('<div style="float: left; width: 235px;" id="iv-sec-column"></div>');a('<style type="text/css">a.iv-title-link:link {text-decoration: none;}a.iv-title-link:visited {text-decoration: none; color: #003399}a.iv-title-link:hover {text-decoration: underline; color: orange;}</style>').appendTo("head");
var h='<div style="text-align: left; margin-top: 10px; font-family: verdana, arial, helvetica, sans-serif; font-size: 14px; font-weight: bold; word-wrap: break-word; width: 235px;" id="iv-prod-title" title="'+Z+'"><a class="ap_custom_close iv-title-link" href="">',c=Z,d=c=new String(c);if(c.length>45){try{for(var f=-1,i=0;i<c.length;i++){var g=c.charAt(i);if(g==" "||g=="."||g=="?"||g==";"||g==","||g==":")f=i;if(i==41){d=c.substring(0,f==-1?i:f);break}}}catch(l){d=c.substring(0,42)}d+="..."}h=a(h+
d+"</a></div>");h.find(".ap_custom_close").click(M);b.append(h);b=p;if(B&&typeof DetailPage!="undefined"&&DetailPage.StateController){var h='<div style="text-align: left;"  id="iv-variation-selection">',c=DetailPage.StateController.getState(),d=c.variation_label_order,j;for(j in d)i=d[j],f=c.selected_variations[i],i=c.variation_display_labels[i],f&&(h+='<div style="padding-top:10px; padding-bottom:3px; font-family: verdana, arial, helvetica, sans-serif; font-size:11px; color:#666">'+i+" : "+f+"</div>");
h+="</div>";j=a(h);b.append(j)}j=p;b='<div style="width:235px; border:1px solid #C9E1F4; background-color:#EAF3FD; padding-top: 5px; padding-bottom: 5px; margin-top:15px; display: none" id="iv-tabbing">';b+='<select id="iv_media_select" style="position:relative;left:65px">';b+='<option id="all" value="all" selected>'+ivStrings.allMedia+"</option>";b+='<option id="images" value="images">'+ivStrings.images+"</option>";b+='<option id="videos" value="videos">'+ivStrings.videos+"</option>";b+="</select>";
b+=a.browser.msie?'<span class="swSprite s_boxLeft" style="top: -14px; left: -102px; display: none;"> </span>  <span class="swSprite s_boxRight" style="top: -14px; left: 111px; display: none;"> </span>':'<span class="swSprite s_boxLeft" style="top: -12px; left: -102px; display: none;"> </span>  <span class="swSprite s_boxRight" style="top: -12px; left: 108px; display: none;"> </span>';b+="</div>";b=a(b);j.append(b)}j=p;b="{ border:1px solid #C9E1F4;width:235px;height:290px;padding-left:15px;padding-top:15px;padding-bottom:15px; overflow-y:auto; border-top:0px;position:relative; top:0px; left:0px; }";
L&&(b="{ width:135px;padding-left:15px;padding-top:15px;padding-bottom:15px; overflow-y:auto; position:relative; top:0px; left:0px; }");a('<style type="text/css">.iv_thumbs '+b+".iv_thumb_videos {  border:1px solid #C9E1F4;width:235px;height:230px;padding:0px; overflow-y:auto; border-top:0px; }.iv_thumb_video_outer { float:left; width:100%; padding-top:5px; padding-bottom:5px;cursor:pointer}.iv_thumb_video_outer_hover { background-color: #EAF3FD }.iv_thumb_video { border: 1px solid #ddd;float:left; margin-left:10px;margin-right:10px;cursor:pointer; }.iv_thumb { border: 1px solid #ddd;float:left; margin-right:12px; margin-bottom:20px; cursor:pointer; }.iv_thumb_selected { border: 2px solid #E47911; }.iv_thumb_hover { border: 2px solid #004B91; }.iv_thumb_inner { padding: 1px;float:left; }.iv_thumb_inner_selected { padding: 0px; }.iv_thumb_image { float:left;position:relative;width:50px; height:50px; background-color:#ffffff}.iv_thumb_text { float:left; word-wrap:break-word; width:130px; margin-top:10px; font-family:verdana, arial, helvetica, sans-serif; font-size:11px }.iv_thumb_text_popover { font-family: verdana, arial, helvetica, sans-serif; font-size:11px }.iv_thumb_text_hover { background-color: #EAF3FD }</style>").appendTo("head");
b="<div class='iv_thumbs'>";b+="</div>";b+="<div class='iv_thumb_videos' style='display: none; height: 63px;'>";b+="</div>";b=a(b);j.append(b);e();w.append(p)}function l(){a("#addIV-Main").click(function(){a("#iv_media_select").css("visibility","visible")});a(window).resize(function(){ga&&f()});I()}function I(){a(".iv_thumb").click(function(){a(".iv_thumb").removeClass("iv_thumb_selected");a(".iv_thumb").removeClass("iv_thumb_hover");a(".iv_thumb").find(".iv_thumb_inner").removeClass("iv_thumb_inner_selected");
a(this).addClass("iv_thumb_selected");a(this).find(".iv_thumb_inner").addClass("iv_thumb_inner_selected");a(this).hasClass("iv_type_video")?(m=a(this).attr("id").split("_")[1],k=-1,N()):(k=a(this).attr("id").split("_")[1],m=-1,K())});a(".iv_thumb_video_outer").click(function(){a(".iv_thumb_video").removeClass("iv_thumb_selected");a(".iv_thumb_video").removeClass("iv_thumb_hover");a(".iv_thumb_video").find(".iv_thumb_inner").removeClass("iv_thumb_inner_selected");a(this).find(".iv_thumb_video").addClass("iv_thumb_selected");
a(this).find(".iv_thumb_inner").addClass("iv_thumb_inner_selected");m=a(this).attr("id").split("_")[1];k=-1;N()});a(".iv_thumb").mouseover(function(){Y&&Y.close();a(this).hasClass("iv_thumb_selected")||(a(this).addClass("iv_thumb_hover"),a(this).find(".iv_thumb_inner").addClass("iv_thumb_inner_selected"));if(a(this).hasClass("iv_type_video")){var p=Number(a(this).attr("id").split("_")[1]);if(!(p>=Q.length)){var p=Q[p],p="<span class='iv_thumb_text_popover'><b>"+p.title+"</b><br>"+p.durationTimestamp+
"</span>",b=a(this).offset().left-a(".iv_thumbs").offset().left<=30?-27:-50,h=-11;a.browser.msie&&parseInt(a.browser.version)==6&&(h=-16);Y=a.AmazonPopover.displayPopover({literalContent:p,width:180,location:["top"],locationElement:this,locationAlign:"middle",locationOffset:[b,h],zIndex:1E3,hoverShowDelay:300,hoverHideDelay:300,showCloseButton:!1,attached:!0,modal:!1});a.browser.msie&&parseInt(a.browser.version)==6?Y.find(".ap_footer").find(".ap_middle").css({position:"relative",height:"30px",width:"112px",
top:"-2px",background:"url("+G.arrow+") -343px -40px"}):Y.find(".ap_footer").find(".ap_middle").css({position:"relative",height:"30px",width:"112px",top:"-3px",background:"url("+G.arrow+") -343px -43px"})}}});a(".iv_thumb_video_outer").mouseover(function(){a(this).addClass("iv_thumb_video_outer_hover");a(this).find(".iv_thumb_text").addClass("iv_thumb_text_hover");a(this).find(".iv_thumb_video").hasClass("iv_thumb_selected")||(a(this).find(".iv_thumb_video").addClass("iv_thumb_hover"),a(this).find(".iv_thumb_inner").addClass("iv_thumb_inner_selected"))});
a(".iv_thumb").mouseout(function(){a(this).hasClass("iv_thumb_selected")||(a(this).removeClass("iv_thumb_hover"),a(this).find(".iv_thumb_inner").removeClass("iv_thumb_inner_selected"));Y&&Y.close()});a(".iv_thumb_video_outer").mouseout(function(){a(this).removeClass("iv_thumb_video_outer_hover");a(this).find(".iv_thumb_text").removeClass("iv_thumb_text_hover");a(this).find(".iv_thumb_video").hasClass("iv_thumb_selected")||(a(this).find(".iv_thumb_video").removeClass("iv_thumb_hover"),a(this).find(".iv_thumb_inner").removeClass("iv_thumb_inner_selected"))});
a("#ap_container").keydown(function(a){if(a.keyCode==37||a.keyCode==38||a.keyCode==39||a.keyCode==40||a.keyCode==33||a.keyCode==34)return!1})}function M(){if(t&&!t.isDetached())da.volume=t.getVolume(),t.detach(),document.all&&!window.atob&&!document.addEventListener&&(t=null)}function K(){function p(){ka=!1;e.css("visibility","hidden");e.empty();e.animate({opacity:1},200);e.append(h);d();r=!1;ca[h.attr("src")]=1}t&&t.hide();a("#iv-large-image").css("display","block");var b="";s&&s[B]&&s[B].images&&
(b=s[B].images.zoomImages[k]);if(b){w.find(".fullScreen")&&w.find(".fullScreen").remove();R="<img src='"+b+"'class='fullScreen'/>";var h=a("<img>").attr("src",b);h.addClass("fullScreen");var e=a("#iv-large-image");e.animate({opacity:0.4},200,function(){h.load(function(){p()});a(R).load(function(){p()});if(ca[h.attr("src")])p();else{ka=!0;e.empty();var b=(v.height()-oa)/2,sa=(v.width()-pa)/2;a("#iv-large-image").append("<img src='"+G.spinner+"' style='position:relative;top:"+b+"px;left:"+sa+"px;' />")}});
h.load(function(){ca[h.attr("src")]=1;A()});a(R).load(function(){ca[h.attr("src")]=1;A()})}}function d(){ha=!1;var b=a("#iv-large-image"),h=b.width(),e=b.height(),b=a("#iv-large-image").find(".fullScreen");b.removeAttr("style");var c=C=b.width();u=b.height();c=c>u?c:u;if(b.length>0){if(b[0].naturalWidth)C=b[0].naturalWidth,c=c>C?c:C;if(b[0].naturalHeight)u=b[0].naturalHeight,c=c>u?c:u}v.css({cursor:"auto"});c>=1E3&&(a.browser.mozilla?v.css({cursor:"-moz-zoom-in"}):v.css({cursor:"url('"+G.zoomIn+"'), auto"}));
C=C==0?1:C;u=u==0?1:u;var d=Math.min(h/C,e/u),c=u*d;d*=C;b.css("height",c<u?c-20:u);b.css("width",Math.min(d,C));h=(h-b.width())/2;e=(e-b.height())/2;b.css("margin-top",e);b.css("margin-left",h);a("#iv-large-image").css("visibility","visible")}function A(){for(var b=-3;b<=3;b++){var h=parseInt(k)+b;if(!(h<0))if((h=s&&s[k]?s[k].images.zoomImages[h]:"")&&ca[h]==void 0)a("<img>").attr("src",h).load(function(){ca[a(this).attr("src")]=1});else if(!h)break}}function f(){var b=a(window).height()-fa,h=a(window).width()-
ba;b>230&&(a("#IV-Main").css({height:b+"px"}),a("#iv-large-image").css({height:b-15+"px"}),b-=U,a(".iv_thumbs").css({height:b+"px"}),a(".iv_thumb_videos").css({height:b+ja+"px"}));h>500&&(a("#IV-Main").parents(".ap_popover").css({width:h+"px"}),b=L?250:330,a("#iv-first-column").css({width:h-b+"px"}));m||d()}function E(a){a=o({left:D.left-(a.pageX-z[0])*J,top:D.top-(a.pageY-z[1])*J});w.find(".fullScreen").css({left:a.left,top:a.top})}function o(a){if(g>0)a.left=g/2;else if(a.left<g)a.left=g;else if(a.left>
0)a.left=0;if(b>0)a.top=b/2;else if(a.top<b)a.top=b;else if(a.top>0)a.top=0;return a}function j(){var b=0;if(s&&s[B]&&s[B].images&&s[B].images.thumbnails)b=s[B].images.thumbnails.length;var h=Q?Q.length:0,e=a(".iv_thumbs"),c=a("#iv-tabbing");if(b==0||h==0)c.hide(),e.css({"margin-top":"15px","border-top":"1px solid #C9E1F4"});else{var d=a("#iv_media_select");d.find("#all").text(ivStrings.allMedia+" ("+(b+h)+")");d.find("#videos").remove();d.find("#images").remove();d.append('<option id="images" value="images">'+
ivStrings.images+" ("+b+")</option>");d.append('<option id="videos" value="videos">'+ivStrings.videos+" ("+h+")</option>");c.show();e.css({"margin-top":"0px","border-top":"0px"});d.val("all");q()}}function q(){a("#iv_media_select").change(function(){a(this).val()=="all"?(a(".iv_thumb_videos").hide(),a(".iv_thumbs").show(),a(".iv_type_video").show(),k>=0?(m=-1,a("#ivimage_"+k).click()):m>=0&&(k=-1,a("#ivvideo_"+m).click())):a(this).val()=="images"?(a(".iv_thumb_videos").hide(),a(".iv_thumbs").show(),
a(".iv_type_video").hide(),m=-1,k>=0?a("#ivimage_"+k).click():(k=0,a("#ivimage_0").click())):a(this).val()=="videos"&&(a(".iv_thumb_videos").show(),a(".iv_thumbs").hide(),k=-1,m>=0?a("#ivvideolist_"+m).click():(m=0,a("#ivvideolist_0").click()))})}function W(){var b="";a.each(Q||[],function(a,h){b+="<div class='iv_thumb_video_outer' id='ivvideolist_"+a+"'>";b+="<div class='iv_thumb_video'>";b+="<div class='iv_thumb_inner'>";b+="<div class='iv_thumb_image' style=\"background:url("+h.thumbUrl+') center no-repeat">';
b+="</div>";b+="</div>";b+="</div>";b+="<div class='iv_thumb_text'><b>"+h.title+"</b><br>"+h.durationTimestamp+"<div style='clear:both'></div></div>";b+="</div>"});a(".iv_thumb_videos").html(b)}function y(){var b;if(s&&s[B])b=s[B].images.thumbnails;var h="",e=0,c=b?b.length:0;c+=(Q||[]).length;if(b)for(var d=b.length,f=0;f<d;f++){e%3==0&&(h+="<div style='height:75px;'>");h+="<div class='iv_thumb' id='ivimage_"+f+"'>";h+="<div class='iv_thumb_inner'>";h+="<div class='iv_thumb_image' style=\"background:url("+
ia(b[f])+') center no-repeat">';h+="</div>";h+="</div>";h+="</div>";if((e+1)%3==0||e==c-1)h+="</div>";e++}a.each(Q||[],function(a,b){e%3==0&&(h+="<div style='height:75px;'>");h+="<div class='iv_thumb iv_type_video' id='ivvideo_"+a+"'>";h+="<div class='iv_thumb_inner'>";h+="<div class='iv_thumb_image' style=\"background:url("+b.thumbUrl+') center no-repeat">';h+="</div>";h+="<div id='data_ivvideo_"+a+"' value='"+b.mediaObjectId+"' />";h+="</div>";h+="</div>";if((e+1)%3===0||e===c-1)h+="</div>";e++});
a(".iv_thumbs").html(h)}function N(){if(m){a("#iv-large-image").css("display","none").empty();var b=Q[m];t?(t.isDetached()&&t.attach(n[0]),F.loadMediaIntoAiryAndSetVolume(t,b,da),t.show()):(t=F.embedAiryForChromefulPlayback(n,b,da,"ImmersiveView"),da.enableContinuousPlay&&t.bind("ended",S));t.play({isAsync:!0})}}function S(){var b=parseInt(m)+1;b>=Q.length||a("#ivvideo_"+b).click()}function ia(a){var a=a.replace(/'/g,"").replace("._SL75_","").replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,
""),a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,""),b=a.lastIndexOf(".");return a=a.substring(0,b)+"._AA50_"+a.substring(b)}function aa(){M();a("#iv-large-image").empty();a(document.body).css("overflow","auto");a("#ap_container").unbind("keydown");ga=!1;X!="image"&&O&&a("#altImages").find(".a-button-selected").mouseenter()}function T(){ga=!0;a(document.body).css("opacity","");var b=document.body.style;a.browser.msie&&b&&b.filter==""&&b.removeAttribute("filter");b=a("body").scrollTop()+28+
"px";L&&(a("body").css("overflow","hidden"),b=a(document).scrollTop()+"px",a(".ap_closetext").css("font-size","16px"));a("#IV-Main").parents(".ap_popover").css({top:b});k>=0?a("#ivimage_"+k).click():m>=0?a("#ivvideo_"+m).click():a("#ivimage_0").click();f()}var Z,s,m,k,B,O=0,X,w,F,G,ba=42,fa=125,U=210,ja=30,ga=!1,Y,ca={},oa=104,pa=80,v,ka=!1,ha=!1,C,u,D={left:0,top:0};g=void 0;b=void 0;var R,z=[0,0],J=4,r=!1,n,Q=[],t,da,la,L=!1;this.iVController=function(b,e,c,d){if(!(b==null||e==null||c==null))if(F||
(F=c),c=ma(e),e.colorImages&&e.colorImages[c]&&e.colorImages[c].length>0&&e.useIV){la||(la=d);if(L=e.showBiggerImmersiveView)ba=0,fa=50,U=110;H()?(na(b),B=ma(e),s=qa(e.colorImages),window.ivStrings=e.staticStrings,Z=e.title,G=e.staticImages,da=e.airyConfig,Q=F.getVideos(B)||Q,w&&w.remove(),V()):(na(b),a("#iv_media_select").val("all"),a(".iv_thumb_videos").hide(),a(".iv_thumbs").show(),a(".iv_type_video").show());a.AmazonPopover.displayPopover(h())}};var na=function(b){var h;if(b.action=="thumb-action")h=
b.data;else if(b.action=="main-image-click"&&(b=a("altImages,.a-button-selected"),b!=null&&b.parent()!=null&&b.parent().data()!=null))h=b.parent().data().thumbAction;h==null&&(h={thubnailIndex:0,type:"image",index:0});O=h.thumbnailIndex;X=h.type;X=="image"?(k=h.index,m=-1):(k=-1,m=h.index)},H=function(){if(B)if($()){if(typeof DetailPage!="undefined"&&DetailPage.StateController&&F.getColorFromState(DetailPage.StateController.getState().selected_variations)==B)return!1}else return!1;return!0},$=function(){return typeof $!=
"undefined"&&$?!0:!1},V=function(){w=a('<div style="display:none;height:'+(a(window).height()-fa)+'px; width:100%; padding: 0px 15px 15px 15px;" id="IV-Main"></div>');c();ea();w.append('<div style="clear:both"/>');a("#imageBlock_feature_div").before(w);w.find("#iv-large-image").click(function(h){if(!r&&!ka)if(ha)d();else if(D=o(D),C>=1E3||u>=1E3)v.find("#iv-large-image").empty().append(R),w.find(".fullScreen").load(function(){if(C>=1E3||u>=1E3){a.browser.mozilla?v.css({cursor:"-moz-zoom-out"}):v.css({cursor:"url('"+
G.zoomOut+"'), auto"});ha=!0;var e=v.find("#iv-large-image"),c=w.find(".fullScreen");C=c.width();u=c.height();g=v.width()-C;b=v.height()-u;var c=v.height()/2,d=v.width()/2;z=[e.offset().left+d,e.offset().top+c];D.top=c-u/2;D.left=d-C/2;v.find(".fullScreen").css({position:"relative",left:D.left,top:D.top});J=Math.max(u/v.height(),C/v.width());J=Math.max(J,4)}E(h)})});w.find("#iv-first-column").mousemove(function(a){ha&&E(a)});e();L||j();y();W();l();f()},qa=function(b){var h={};a.each(b,function(e){h[e]=
{images:{thumbnails:a.map(b[e],function(a){return a.thumb}),zoomImages:a.map(b[e],function(a){return a.hiRes||a.large||a.main[a.main.length-1]})}}});return h},ma=function(a){var b=null;typeof DetailPage!="undefined"&&DetailPage.StateController&&(b=F.getColorFromState(DetailPage.StateController.getState().selected_variations));return b=b||a.defaultColor},h=function(){var b="close",h=x.staticStrings;h&&h.close&&(b=h.close);var h=L?a(window).width():a(window).width()-ba,e=L?{left:0,top:0}:{left:20,top:28};
return{localContent:"#IV-Main",width:h,location:function(){return e},zIndex:999,paddingLeft:0,paddingRight:0,paddingBottom:0,closeText:b,modal:!0,group:"ImmersiveView",onShow:T,onHide:aa}};return this});x.when("ImageBlockBTF").execute(function(i){i=i.airyConfig;x.load.js(i.jsUrl);i.cssUrl&&x.load.css(i.cssUrl)});x.when("A","jQuery","imageBlockUtils","ImageBlockATF","ImageBlockBTF","immersiveView","imageBlockLogger","Airy").register("imageBlockMain",function(i,a,ra,g,b,c){if(b&&b.colorImages&&g&&g.colorImages)b.colorImages.initial=
g.colorImages.initial,b.colorImages[b.landingAsinColor]=g.colorImages.initial;if(b&&b.heroImage&&g&&g.heroImage)b.heroImage.initial=g.heroImage.initial,b.heroImage[b.landingAsinColor]=g.heroImage.initial;if(b&&b.colorImages&&g&&g.colorToAsin&&g.colorToAsin.initial&&g.colorToAsin.initial[0])b.initialColorToAsinMap=g.colorToAsin.initial[0].main;b.holderRatio=b&&g.holderRatio?g.holderRatio:1;b.holderMaxHeight=g.holderMaxHeight;b.useStretchyImageFix=g.useStretchyImageFix;new function(b,g){var l,I,M,K,
d;function A(){i.declarative("thumb-action",["click",la?"":"mouseenter"],T);i.declarative("thumb-action",["mouseleave"],ia);i.declarative("main-image-click",["click"],ca);i.declarative("main-image-click",["mouseenter","mouseleave"],S);i.declarative("main-video-click",["click"],function(a){i.trigger("mainVideoClick",a)})}function f(){var a=DetailPage.StateController.getState();if((a=n.getColorFromState(a.selected_variations))&&a!="")N(a),n.setLandingColor(a);i.on("image-block-twister-swatch-hover",
m);i.on("image-block-twister-swatch-click",k);i.on("image-block-video-fetch-completed",y)}function E(){n.resizeHappened();j();if(r.length&&b.burjImageBlock){var a=o();a&&typeof a!="undefined"&&(a.xPos&&typeof a.xPos!="undefined"?r.css({"background-position":a.xPos+"px "+a.yPos+"px"}):r.css({"background-position":"center "+a.yPos+"px"}),r.css({"background-size":a.width+"px "+a.height+"px","max-width":a.width+"px","min-height":a.height+"px",filter:"","-ms-filter":""}))}}function o(h){if(b.burjImageBlock){if(!h||
typeof h=="undefined"){var c=w(l);if(c==-1)return;h=a.map(c.main,function(a,b){return b})[0];h=c.main[h]}c=G(h);h=F(c[0],h);return{height:c[1],width:c[0],xPos:h,yPos:75}}}function j(){var h=z.find(".item .imgTagWrapper"),c=n.getMainBlockHeight(),d=n.getMaxDimensionsOfMainImage();c>0&&(J.height(c),h.height(c));z.find("img.a-dynamic-image").each(function(){var h=a(this);if(h.data("a-manual-replacement")){var c=n.loadDynamicImage(this);c&&h.attr("src",c)}var p;b.useStretchyImageFix?(p=h.data("a-dynamic-image"),
c=n.getMaxHeightOfMainImage(p),p=n.getMaxWidthOfMainImage(p)):(c=J.height(),p=J.width());d&&typeof d!=="undefined"&&(p=Math.min(d[0],p),c=Math.min(d[1],c));h.attr("style","max-height: "+c+"px; max-width: "+p+"px;")});v()}function q(){var b=J.height(),c=0,e=0;a.each(Q,function(a,b){var h=b[0],d=b[1];h>e&&(e=h,c=d)});b=Math.min(b,c)}function W(h,c,d,f,i){var g=t.find(".template").clone().removeClass("template").addClass("item"),j=a("<img />").attr("src",c.thumb);b.autoplayVideo&&i?h=="chromeless-video"&&
g.find(".a-button").addClass("a-button-selected"):f==I&&g.find(".a-button").addClass("a-button-selected");g.find(".placeHolder").replaceWith(j);g.find(".a-declarative").attr("data-thumb-action",'{"index":"'+d+'", "thumbnailIndex":"'+f+'", "type": "'+h+'", "variant": "'+c.variant+'"}');return g}function y(h,c){t.find(".item").remove();var d,f=0,g=D[h],j=n.getVideos(h),l=j.length>0&&b.alwaysIncludeVideo?1:0;if(R&&(d=R[h]))d=W("hero-image",d,f,f,c),t.append(d),f++;g&&a.each(g,function(a,h){if(f>=b.maxAlts-
l)return M===a&&i.trigger("image-block-select-thumbnail",t.find("img:first")),!1;var d=W("image",h,a,f,c);t.append(d);f++});a.each(j,function(a,h){if(f>=b.maxAlts)return!1;if(b.thumbExperimentEnabledValue!==1)h.thumb=b.staticImages.videoThumbIcon;var d=da?W("chromeless-video",h,a,f,c):W("chromeful-video",h,a,f);t.append(d);f++})}function N(a,b,c,e,f){a&&(l=a);b&&(K=b);typeof c!=="undefined"&&(M=c);typeof e!=="undefined"&&(I=e);f&&(d=f)}function S(b){var c=!1;b.type=="mouseenter"&&(c=!0);var e,b=a("altImages,.a-button-selected");
if(b!=null&&b.parent()!=null&&b.parent().data()!=null)e=b.parent().data().thumbAction;e&&typeof e.index!=="undefined"&&typeof e.thumbnailIndex!=="undefined"&&e.type&&n.setImageCaption(l,e.type,e.index,e.thumbnailIndex,0,c)}function ia(a){(a=a.data)&&typeof a.index!=="undefined"&&typeof a.thumbnailIndex!=="undefined"&&a.type&&n.setImageCaption(l,a.type,a.index,a.thumbnailIndex);b.burjImageBlock&&T(qa)}function aa(){b.useIV&&z.css("cursor","pointer")}function T(c){var d=c.data;if(!d)return-1;U();if(d.index==
null||d.thumbnailIndex==null||d.type==null)return-1;var f=c.$declarativeParent.find(".a-button");if(!b.burjImageBlock||b.burjImageBlock&&c.type==="click")t.find(".a-button").removeClass("a-button-selected"),a(f).addClass("a-button-selected").removeClass("a-button-focus");var g,f=l,j=d.type,k=d.index,m=d.thumbnailIndex;j==="chromeless-video"?n.getVideos(l)[k]==null?g=-1:(g=fa(f,k,m),H&&H.play()):j==="chromeful-video"?(g=n.getVideos(l)[k])?(f=b.holderRatio||1,j=n.getMaxDimensionsOfMainImage(),k=parseInt(g.videoWidth,
10),m=parseInt(g.videoHeight,10),V.parent().css("z-index",2),m!=0&&k!=0&&(k/=m,j&&typeof j!=="undefined"&&(f=J.width()/J.height()),f>k?V.css("width",k/f*100+"%"):V.css("height",f/k*100+"%")),b.useIV&&z.css("cursor","default"),H?(H.show(),a("#video-canvas-caption").show(),n.loadMediaIntoAiryAndSetVolume(H,g,$)):(H=n.embedAiryForChromefulPlayback(V,g,$),g=a("#image-canvas-caption").clone().attr("id","video-canvas-caption"),g.appendTo(V),g.find("#canvasCaption").html(b.staticStrings.playVideo)),g=V):
g=-1:j==="hero-image"?g=ja(f,k,m):z.find(".item.itemNo"+m).length>0?g=z.find(".item.itemNo"+m):j=="image"&&(g=ga(f,k,m));if(g!==-1){H&&!(d.type==="chromeless-video"||d.type==="chromeful-video")&&Z();if(b.burjImageBlock&&c.type==="click"||b.burjImageBlock&&!ma)qa=c,ma=!0;s(g);g=!0;L&&(g=L=!1);n.setImageCaption(l,d.type,d.index,d.thumbnailIndex,0,g);N(l,d.type,d.index,d.thumbnailIndex,d.variant);E();c.type==="click"&&!b.notThumbnailClickImmersiveView&&oa(c)}else n.showUnavailableExp();i.trigger("image-block-thumbnail-selected",
d)}function Z(){H&&(H.hide(),V.parent().css("z-index",-1),a("#video-canvas-caption").hide(),aa())}function s(a,b){if(a==null)return-1;z.find("li").removeClass("selected");n.hideUnavailableExp();if(!a.hasClass("fullImage")){r.length&&r.addClass("hide-background");var c=J.css("height");c!=null&&a.find(".imgTagWrapper").css("height",c);a.addClass("selected");b||v()}}function m(a,c,f){var e;U();L=!0;Z();a=(a=f?f:n.getColorFromState(c.getState().hovered_variations))&&a!=""?a:b.defaultColor;e=(c=n.getColorFromState(c.getState().selected_variations))&&
c!=""?c:b.defaultColor,c=e;if(c==l&&l==a)b.isSwatchHoverConsistent?i.trigger("image-block-select-thumbnail",t.find("img:eq("+I+")")):i.trigger("image-block-select-thumbnail",t.find("img:first"));else{c=!1;if(b.isSwatchHoverConsistent)if(K==="hero-image")f=X(a),d===f.variant&&(c=!0);else var f=a,g=B(f,d),f=g===-1?O(f,0):O(f,g);else f=O(a,0);if(f==-1)if(w(a)!=-1)f=X(a),s(r,!0),c=1;else{c=z.find(".item.itemNo0");s(c);n.showUnavailableExp(a);return}c||(a=z.find(".swatchHoverExp"),c=Y(f),a.find("img"),
a.find(".imgTagWrapper").html(c),n.loadImageManually(a.find(".a-dynamic-image")),s(a,!0))}}function k(a,c,f,g){U();L=!0;a=(a=g?g:n.getColorFromState(c.getState().selected_variations))&&a!=""?a:b.defaultColor;if(a==l)typeof f=="function"&&f();else{var g=a,i="image",j=0,k=0,c="MAIN";if(K==="hero-image")w(g)!==-1&&(i="hero-image",c=d);else{var m=B(g,d);m!==-1&&(k=j=m,c=d);w(g)!==-1&&k++}g=i;i=c;g==="hero-image"?(r.hasClass("twisted")||r.addClass("twisted"),c=ja(a,j,k,f)):c=ga(a,j,k,f);if(c==-1)if(i=
w(a),i!=-1)c=ja(a,j,k,f),g="hero-image",i=i.variant,k=0;else{n.showUnavailableExp(a);return}N(a,g,j,k,i);pa();z.find(".list .item").remove();r.length&&K!=="hero-image"&&r.addClass("twisted");c.hasClass("fullImage")||z.find(".list").append(c);v();y(a)}}function B(b,c){if(D.length<1)return-1;if(!D[b])return-1;if(!c)return-1;var d=-1;a.each(D[b],function(a,b){b.variant===c&&(d=a)});return d}function O(b,c){return D.length<1?-1:!D[b]?-1:!D[b][c]?-1:!D[b][c].main?-1:a.map(D[b][c].main,function(a,b){return b}).length<
1?-1:D[b][c]}function X(b){var c=w(b);if(c==-1)return O(b,0);b=a.map(c.main,function(a,b){return b})[0];ba(b,c.main[b]);r.addClass("twisted");r.hasClass("hide-background")&&r.removeClass("hide-background");return c}function w(b){return R.length<1?-1:!R[b]?-1:!R[b].main?-1:a.map(R[b].main,function(a,b){return b}).length<1?-1:R[b]}function F(a,c){var d;if(b.burjImageBlock){var f=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,g=b.heroFocalPoint;if(g&&typeof g!="undefined"){d=
Math.max((f-Math.min(1500,a))/2,0);var i=Math.max((f-a)/2,0);d-=i;f=Math.max(Math.min(f,1500),1024);d=d+(f-420-23)/2-a/c[0]*g}}return d}function G(a){var c;if(b.burjImageBlock){c=a[0];a=a[1];if((window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)<=768)c*=0.7,a*=0.7;else{var d=((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,d=Math.max(Math.min(d,1),0);c*=0.7+0.3*d;a*=0.7+0.3*d}c=[c,a]}return c}function ba(a,c){if(r.length&&
a&&c){var d=c[0],f=c[1];r.css({"background-image":'url("'+a+'")'});if(b.burjImageBlock){var g=o(c);if(g&&typeof g!="undefined")d=g.width,f=g.height,g.xPos&&typeof g.xPos!="undefined"?r.css({"background-position":g.xPos+"px "+g.yPos+"px"}):r.css({"background-position":"center "+g.yPos+"px"})}r.css({"background-size":d+"px "+f+"px","max-width":d+"px","min-height":f+"px",filter:"","-ms-filter":""})}}function fa(a,b){var c=n.getVideos(l)[b];if(!c)return-1;var d=z.find(".chromeless-video");if(d.hasClass(n.VIDEO_UNSUPPORTED_CLASS_NAME))return n.flashNotInstalled&&
z.find(".noFlash").removeClass("a-hidden"),d;if(H)return H.show(),n.loadMediaIntoAiryAndSetVolume(H,c,$),d;H=n.embedAiryForChromelessPlayback(V,c,$,t,na,d);return d}function U(){n.flashNotInstalled&&z.find(".noFlash").addClass("a-hidden")}function ja(b,c,d,e){b=w(b);if(b==-1)return-1;var f=a.map(b.main,function(a,b){return b})[0],g=b.main[f];r.hasClass("twisted")?(n.loadImageAsynchronously(f,function(){typeof e==="function"&&e()}),ba(f,g),r.removeClass("twisted"),r.hasClass("hide-background")&&r.removeClass("hide-background")):
r.hasClass("loaded")?r.removeClass("hide-background"):n.loadImageAsynchronously(f,function(){ba(f,g);r.addClass("loaded")});return r}function ga(a,b,c,d){a=O(a,b);if(a==-1)return-1;c=z.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate").addClass("image item itemNo"+c+" maintain-height");d=Y(a,!1,d);c.find(".placeHolder").replaceWith(d);z.find(".list").append(c);n.loadImageManually(c.find(".a-dynamic-image"));return c}function Y(c,d,f){var g,i,j="",j=n.getMaxDimensionsOfMainImage();
a.each(c.main,function(a,c){g||(g=a);b.shouldApplyResizeFix?c[1]>0&&parseFloat(c[0]/c[1])<parseFloat(b.holderRatio)&&!i?i="a-stretch-vertical":i||(i="a-stretch-horizontal"):c[1]>0&&parseFloat(c[0]/c[1])<=parseFloat(b.holderRatio)&&!i?i="a-stretch-vertical":i||(i="a-stretch-horizontal")});var k=" a-dynamic-image ";k+=d?"slateImage":i;var l;b.useStretchyImageFix?(d=n.getMaxHeightOfMainImage(c.main),l=n.getMaxWidthOfMainImage(c.main)):(d=J.height(),l=J.width());j&&typeof j!=="undefined"&&(l=Math.min(j[0],
l),d=Math.min(j[1],d));j="max-height: "+d+"px; max-width: "+l+"px;";d=a("<div />");d.attr({"data-a-dynamic-image":JSON.stringify(c.main),"data-old-hires":c.hiRes,"class":k,"data-a-manual-replacement":"true",style:j,onload:typeof f!="undefined"?f:""});return d}function ca(b){a("input#show-immersive-view-on-softlines").val()=="true"&&C.count("SoftlinesImmersiveViewOnPC",(C.count("SoftlinesImmersiveViewOnPC")||0)+1);oa(b)}function oa(a){if(b.useIV){if(H)$.volume=H.getVolume(),H.pause();c.iVController(a,
b,n,na)}}function pa(){u&&(u.destroy(),u=void 0)}function v(){b.useHoverZoom&&x.when("imageMagnifier").execute(function(){var a={adjustment:[0,0,1,1],generalImageUrls:b.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:190,useHoverZoomIpad:b.useHoverZoomIpad,useHoverZoom:b.useHoverZoom,logMetrics:null,isUDP:b.isUDP,burjImageBlock:b.burjImageBlock,useClickZoom:b.useClickZoom,zoomOutIcon:b.staticImages.zoomOutCur,isHoverZoomShawdowEnabled:b.isHoverZoomShawdowEnabled};
pa();var c=z.find(".image.item.selected img[data-old-hires]").not("[data-old-hires='']");c.length>0&&(b.useClickZoom?(c.one("click.loadmagnifier touchstart.loadmagnifier",function(b){u=c.amazonMagnifier(a);u.engageMagnifier(b,!0)}),ha?c.css("cursor",'url("'+b.staticImages.zoomInCur+'"), auto'):(c.css("cursor","-webkit-zoom-in"),c.css("cursor","-moz-zoom-in"),c.css("cursor","zoom-in"))):u=c.amazonMagnifier(a))})}var ka=navigator.userAgent.match(/cloud9|android|silk-accelerated/i),ha=navigator.userAgent.match(/msie|trident/i);
b.useHoverZoom=b.useHoverZoom&&!ka;var C=window.ue,u;l=b.defaultColor;K="image";M=0;I=0;d="MAIN";var D=b.colorImages,R=b.heroImage,z=a("#imageBlock .canvas"),J=a("#main-image-container"),r=a("#heroImage"),n=g.init(b),Q=b.mainImageSizes,t=a("#imageBlock #altImages ul"),da=b.useChromelessVideoPlayer,la=navigator.userAgent.match(/ipad/i),L=!0,na=new window.ImageBlockclientLogger("ImageBlockUDP",!0),H,$=b.airyConfig,V=function(){var b=a("<div></div>").attr("id","main-video-container"),c=a("<div></div>").attr("id",
"video-outer-container");b.prependTo(c);return da?b:b.addClass("chromeful-container")}(),qa,ma=!1;b.isDebug&&window.console&&console.log(b);(function(){V.parent().prependTo(J);A();x.when("dpf").execute(f);amznJQ&&amznJQ.available("dpf",f);a(window).resize(E);i.on("image-block-select-thumbnail",function(a){a&&(a.length<=0||(la?a.click():a.mouseover()))});y(l,!0);q();b.autoplayVideo?i.trigger("image-block-select-thumbnail",t.find("img:last")):i.trigger("image-block-select-thumbnail",t.find("img:first"));
aa()})()}(b,ra)})})})(function(){var x=window.AmazonUIPageJS||P,i=x.attributeErrors;return i?i("ImageBlockJSAssets"):x}());